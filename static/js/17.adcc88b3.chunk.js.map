{"version":3,"sources":["views/fabric/index.jsx"],"names":["options","label","value","Index","useState","selectVal","setSelectVal","canvasRef","useRef","canvas","useMemo","fabric","Canvas","current","useEffect","rect","Rect","width","height","stroke","fill","add","style","onChange","console","log","ref"],"mappings":"sNAIMA,EAAU,CACd,CAAEC,MAAO,eAAMC,MAAO,QACtB,CAAED,MAAO,SAAKC,MAAO,WAsDRC,UAnDf,WACE,MAAkCC,mBAAS,QAAO,mBAA3CC,EAAS,KAAEC,EAAY,KACxBC,EAAYC,mBAEZC,EAASC,mBAAQ,WAErB,OAAO,IAAIC,SAAOC,OAAOL,EAAUM,QAGrC,GAAG,CAACN,EAAUM,UAsBd,OApBAC,qBAAU,WAER,GAAML,GACc,SAAdJ,EAAsB,CACxB,IAAMU,EAAO,IAAIJ,SAAOK,KAAK,CAC3BC,MAAO,IACPC,OAAQ,IACRC,OAAQ,OACRC,KAAM,SAERX,EAAOY,IAAIN,EAEb,CAKJ,GAAG,CAACV,IAIF,gCACE,kEACA,cAAC,IAAM,CACLH,MAAOG,EACPiB,MAAO,CAAEL,MAAO,SAChBjB,QAASA,EACTuB,SAAU,SAACrB,GACTsB,QAAQC,IAAIvB,GACZI,EAAaJ,EACf,IAKF,wBAAQe,MAAO,IAAKC,OAAQ,IAAKQ,IAAKnB,MAG5C,C","file":"static/js/17.adcc88b3.chunk.js","sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react'\r\nimport { fabric } from \"fabric\";\r\nimport { Select } from 'antd'\r\n\r\nconst options = [\r\n  { label: '矩形', value: 'rect' },\r\n  { label: '圆', value: 'circle' },\r\n]\r\n\r\nfunction Index() {\r\n  const [selectVal, setSelectVal] = useState('rect')\r\n  const canvasRef = useRef()\r\n\r\n  const canvas = useMemo(() => {\r\n\r\n    return new fabric.Canvas(canvasRef.current)\r\n\r\n\r\n  }, [canvasRef.current])\r\n\r\n  useEffect(() => {\r\n\r\n    if (!!canvas) {\r\n      if (selectVal === 'rect') {\r\n        const rect = new fabric.Rect({\r\n          width: 300,\r\n          height: 300,\r\n          stroke: 'pink',\r\n          fill: '#fff'\r\n        })\r\n        canvas.add(rect)\r\n\r\n      }\r\n    }\r\n\r\n\r\n\r\n  }, [selectVal])\r\n\r\n\r\n  return (\r\n    <div>\r\n      <span>选择图形：</span>\r\n      <Select\r\n        value={selectVal}\r\n        style={{ width: '200px' }}\r\n        options={options}\r\n        onChange={(value) => {\r\n          console.log(value);\r\n          setSelectVal(value)\r\n        }}\r\n      >\r\n\r\n      </Select>\r\n\r\n      <canvas width={500} height={500} ref={canvasRef}></canvas>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Index\r\n"],"sourceRoot":""}