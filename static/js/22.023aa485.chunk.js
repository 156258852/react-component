(this.webpackJsonpkeShiHua=this.webpackJsonpkeShiHua||[]).push([[22],{435:function(e,t,n){"use strict";n.r(t);var c=n(442),o=n(255),r=n(0),a=n(3),l=n(6),i=n(2),u=n(131),s=n(133),f=n(134),b=n(132),d=n(98),m=n(56),p=n(4),v=n(5),O=n.n(v),j=n(27),C=n(249);function x(e){return!(!e||!e.then)}var y,k=function(e){var t=r.useRef(!1),n=r.useRef(),c=Object(j.a)(!1),l=Object(a.a)(c,2),u=l[0],s=l[1],f=e.close,b=function(){null===f||void 0===f||f.apply(void 0,arguments)};r.useEffect((function(){var t;if(e.autoFocus){var c=n.current;t=setTimeout((function(){return c.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var d=e.type,m=e.children,p=e.prefixCls,v=e.buttonProps;return r.createElement(o.a,Object(i.a)({},Object(C.a)(d),{onClick:function(n){var c=e.actionFn;if(!t.current)if(t.current=!0,c){var o;if(e.emitEvent){if(o=c(n),e.quitOnNullishReturnValue&&!x(o))return t.current=!1,void b(n)}else if(c.length)o=c(f),t.current=!1;else if(!(o=c()))return void b();!function(e){x(e)&&(s(!0),e.then((function(){s(!1,!0),b.apply(void 0,arguments),t.current=!1}),(function(e){console.error(e),s(!1,!0),t.current=!1})))}(o)}else b()},loading:u,prefixCls:p},v,{ref:n}),m)},g=n(65),E=n(109),h=n(312),T=n(43),w=n(244),P=n(106),N=n(260),S=n(96),I=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(c=Object.getOwnPropertySymbols(e);o<c.length;o++)t.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(e,c[o])&&(n[c[o]]=e[c[o]])}return n};Object(N.a)()&&document.documentElement.addEventListener("click",(function(e){y={x:e.pageX,y:e.pageY},setTimeout((function(){y=null}),100)}),!0);var F=function(e){var t,n=r.useContext(T.b),c=n.getPopupContainer,a=n.getPrefixCls,l=n.direction,u=function(t){var n=e.onCancel;null===n||void 0===n||n(t)},s=function(t){var n=e.onOk;null===n||void 0===n||n(t)},f=e.prefixCls,b=e.footer,d=e.visible,m=e.open,v=void 0!==m&&m,j=e.wrapClassName,x=e.centered,k=e.getContainer,N=e.closeIcon,F=e.focusTriggerAfterClose,R=void 0===F||F,A=e.width,B=void 0===A?520:A,H=I(e,["prefixCls","footer","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","width"]),M=a("modal",f),z=a(),L=r.createElement(P.a,{componentName:"Modal",defaultLocale:Object(S.b)()},(function(t){var n=e.okText,c=e.okType,a=void 0===c?"primary":c,l=e.cancelText,f=e.confirmLoading,b=void 0!==f&&f;return r.createElement(r.Fragment,null,r.createElement(o.a,Object(i.a)({onClick:u},e.cancelButtonProps),l||t.cancelText),r.createElement(o.a,Object(i.a)({},Object(C.a)(a),{loading:b,onClick:s},e.okButtonProps),null!==n&&void 0!==n?n:t.okText))})),J=r.createElement("span",{className:"".concat(M,"-close-x")},N||r.createElement(E.a,{className:"".concat(M,"-close-icon")})),q=O()(j,(t={},Object(p.a)(t,"".concat(M,"-centered"),!!x),Object(p.a)(t,"".concat(M,"-wrap-rtl"),"rtl"===l),t));return r.createElement(w.e,{status:!0,override:!0},r.createElement(h.default,Object(i.a)({width:B},H,{getContainer:void 0===k?c:k,prefixCls:M,wrapClassName:q,footer:void 0===b?L:b,visible:v||d,mousePosition:y,onClose:u,closeIcon:J,focusTriggerAfterClose:R,transitionName:Object(g.c)(z,"zoom",e.transitionName),maskTransitionName:Object(g.c)(z,"fade",e.maskTransitionName)})))},R=function(e){var t=e.icon,n=e.onCancel,c=e.onOk,o=e.close,a=e.zIndex,l=e.afterClose,i=e.visible,u=e.open,s=e.keyboard,f=e.centered,b=e.getContainer,d=e.maskStyle,v=e.okText,j=e.okButtonProps,C=e.cancelText,x=e.cancelButtonProps,y=e.direction,E=e.prefixCls,h=e.wrapClassName,T=e.rootPrefixCls,w=e.iconPrefixCls,P=e.bodyStyle,N=e.closable,S=void 0!==N&&N,I=e.closeIcon,R=e.modalRender,A=e.focusTriggerAfterClose;var B=e.okType||"primary",H="".concat(E,"-confirm"),M=!("okCancel"in e)||e.okCancel,z=e.width||416,L=e.style||{},J=void 0===e.mask||e.mask,q=void 0!==e.maskClosable&&e.maskClosable,D=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),V=O()(H,"".concat(H,"-").concat(e.type),Object(p.a)({},"".concat(H,"-rtl"),"rtl"===y),e.className),X=M&&r.createElement(k,{actionFn:n,close:o,autoFocus:"cancel"===D,buttonProps:x,prefixCls:"".concat(T,"-btn")},C);return r.createElement(m.a,{prefixCls:T,iconPrefixCls:w,direction:y},r.createElement(F,{prefixCls:E,className:V,wrapClassName:O()(Object(p.a)({},"".concat(H,"-centered"),!!e.centered),h),onCancel:function(){return null===o||void 0===o?void 0:o({triggerCancel:!0})},open:u||i,title:"",footer:"",transitionName:Object(g.c)(T,"zoom",e.transitionName),maskTransitionName:Object(g.c)(T,"fade",e.maskTransitionName),mask:J,maskClosable:q,maskStyle:d,style:L,bodyStyle:P,width:z,zIndex:a,afterClose:l,keyboard:s,centered:f,getContainer:b,closable:S,closeIcon:I,modalRender:R,focusTriggerAfterClose:A},r.createElement("div",{className:"".concat(H,"-body-wrapper")},r.createElement("div",{className:"".concat(H,"-body")},t,void 0===e.title?null:r.createElement("span",{className:"".concat(H,"-title")},e.title),r.createElement("div",{className:"".concat(H,"-content")},e.content)),r.createElement("div",{className:"".concat(H,"-btns")},X,r.createElement(k,{type:B,actionFn:c,close:o,autoFocus:"ok"===D,buttonProps:j,prefixCls:"".concat(T,"-btn")},v)))))},A=[],B=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(c=Object.getOwnPropertySymbols(e);o<c.length;o++)t.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(e,c[o])&&(n[c[o]]=e[c[o]])}return n},H="";function M(e){var t=document.createDocumentFragment(),n=Object(i.a)(Object(i.a)({},e),{close:a,open:!0});function c(){for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];var r=c.some((function(e){return e&&e.triggerCancel}));e.onCancel&&r&&e.onCancel.apply(e,[function(){}].concat(Object(l.a)(c.slice(1))));for(var i=0;i<A.length;i++){var u=A[i];if(u===a){A.splice(i,1);break}}Object(d.b)(t)}function o(e){var n=e.okText,c=e.cancelText,o=e.prefixCls,a=B(e,["okText","cancelText","prefixCls"]);setTimeout((function(){var e=Object(S.b)(),l=Object(m.b)(),u=l.getPrefixCls,s=l.getIconPrefixCls,f=u(void 0,H),b=o||"".concat(f,"-modal"),p=s();Object(d.a)(r.createElement(R,Object(i.a)({},a,{prefixCls:b,rootPrefixCls:f,iconPrefixCls:p,okText:n||(a.okCancel?e.okText:e.justOkText),cancelText:c||e.cancelText})),t)}))}function a(){for(var t=this,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];(n=Object(i.a)(Object(i.a)({},n),{open:!1,afterClose:function(){"function"===typeof e.afterClose&&e.afterClose(),c.apply(t,a)}})).visible&&delete n.visible,o(n)}return o(n),A.push(a),{destroy:a,update:function(e){o(n="function"===typeof e?e(n):Object(i.a)(Object(i.a)({},n),e))}}}function z(e){return Object(i.a)(Object(i.a)({icon:r.createElement(f.a,null),okCancel:!1},e),{type:"warning"})}function L(e){return Object(i.a)(Object(i.a)({icon:r.createElement(b.a,null),okCancel:!1},e),{type:"info"})}function J(e){return Object(i.a)(Object(i.a)({icon:r.createElement(u.a,null),okCancel:!1},e),{type:"success"})}function q(e){return Object(i.a)(Object(i.a)({icon:r.createElement(s.a,null),okCancel:!1},e),{type:"error"})}function D(e){return Object(i.a)(Object(i.a)({icon:r.createElement(f.a,null),okCancel:!0},e),{type:"confirm"})}var V=n(44),X=function(e,t){var n=e.afterClose,c=e.config,o=r.useState(!0),u=Object(a.a)(o,2),s=u[0],f=u[1],b=r.useState(c),d=Object(a.a)(b,2),m=d[0],p=d[1],v=r.useContext(T.b),O=v.direction,j=v.getPrefixCls,C=j("modal"),x=j(),y=function(){f(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var c=t.some((function(e){return e&&e.triggerCancel}));m.onCancel&&c&&m.onCancel.apply(m,[function(){}].concat(Object(l.a)(t.slice(1))))};return r.useImperativeHandle(t,(function(){return{destroy:y,update:function(e){p((function(t){return Object(i.a)(Object(i.a)({},t),e)}))}}})),r.createElement(P.a,{componentName:"Modal",defaultLocale:V.a.Modal},(function(e){return r.createElement(R,Object(i.a)({prefixCls:C,rootPrefixCls:x},m,{close:y,open:s,afterClose:n,okText:m.okText||(m.okCancel?e.okText:e.justOkText),direction:O,cancelText:m.cancelText||e.cancelText}))}))},Y=r.forwardRef(X),G=0,K=r.memo(r.forwardRef((function(e,t){var n=function(){var e=r.useState([]),t=Object(a.a)(e,2),n=t[0],c=t[1];return[n,r.useCallback((function(e){return c((function(t){return[].concat(Object(l.a)(t),[e])})),function(){c((function(t){return t.filter((function(t){return t!==e}))}))}}),[])]}(),c=Object(a.a)(n,2),o=c[0],i=c[1];return r.useImperativeHandle(t,(function(){return{patchElement:i}}),[]),r.createElement(r.Fragment,null,o)})));function Q(e){return M(z(e))}var U=F;U.useModal=function(){var e=r.useRef(null),t=r.useState([]),n=Object(a.a)(t,2),c=n[0],o=n[1];r.useEffect((function(){c.length&&(Object(l.a)(c).forEach((function(e){e()})),o([]))}),[c]);var i=r.useCallback((function(t){return function(n){var c;G+=1;var a,i=r.createRef(),u=r.createElement(Y,{key:"modal-".concat(G),config:t(n),ref:i,afterClose:function(){a()}});return a=null===(c=e.current)||void 0===c?void 0:c.patchElement(u),{destroy:function(){function e(){var e;null===(e=i.current)||void 0===e||e.destroy()}i.current?e():o((function(t){return[].concat(Object(l.a)(t),[e])}))},update:function(e){function t(){var t;null===(t=i.current)||void 0===t||t.update(e)}i.current?t():o((function(e){return[].concat(Object(l.a)(e),[t])}))}}}}),[]);return[r.useMemo((function(){return{info:i(L),success:i(J),error:i(q),warning:i(z),confirm:i(D)}}),[]),r.createElement(K,{ref:e})]},U.info=function(e){return M(L(e))},U.success=function(e){return M(J(e))},U.error=function(e){return M(q(e))},U.warning=Q,U.warn=Q,U.confirm=function(e){return M(D(e))},U.destroyAll=function(){for(;A.length;){var e=A.pop();e&&e()}},U.config=function(e){var t=e.rootPrefixCls;H=t};var W=U,Z=n(10);function $(e,t){console.log(t);var n=Object(r.useState)(!1),c=Object(a.a)(n,2),o=c[0],l=c[1],i=Object(r.useState)(),u=Object(a.a)(i,2),s=u[0];u[1];return Object(r.useImperativeHandle)(t,(function(){return{close:function(){l(!1)},open:function(){l(!0)},getCount:function(){}}})),Object(Z.jsx)(W,{title:"\u6d4b\u8bd5\u6a21\u6001\u6846",open:o,onCancel:function(){l(!1)},children:Object(Z.jsxs)("div",{children:["\u8fd9\u662f\u662f\u7b2c",Object(Z.jsx)("span",{style:{color:"red"},children:s}),"\u51e0\u4e2a"]})})}var _=Object(r.forwardRef)($);t.default=function(){var e=Object(r.useRef)();return Object(Z.jsxs)("div",{children:["\u7236\u7ec4\u4ef6",Object(Z.jsxs)(c.b,{children:[Object(Z.jsx)(o.a,{onClick:function(){e.current.open()},children:"\u6253\u5f00"}),Object(Z.jsx)(o.a,{children:"\u5173\u95ed"})]}),Object(Z.jsx)(_,{ref:e})]})}}}]);
//# sourceMappingURL=22.023aa485.chunk.js.map